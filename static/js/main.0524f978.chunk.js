(this["webpackJsonpsampler-sequencer-latest"]=this["webpackJsonpsampler-sequencer-latest"]||[]).push([[0],{49:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var r,c,a,i,s,u,o,p=n(2),b=n(26),l=n.n(b),d=n(0),m=n.n(d),x=n(4),f=n(6),j=n(1),O=n(7),h=(n(49),n(9)),v=n.n(h),k=n(12),g=n.p+"static/media/bass1.6b9760b1.mp3",w=n.p+"static/media/bd1.7bb5d5d5.mp3",y=n.p+"static/media/bd2.56bdda17.mp3",C=n.p+"static/media/bd3.7422be23.mp3",A=n.p+"static/media/bd4.f9d7151b.mp3",T=n.p+"static/media/bd5.9678db00.mp3",S=n.p+"static/media/bd6.c342661d.mp3",N=n.p+"static/media/bdweird1.f5d4bd23.mp3",B=n.p+"static/media/bdweird2.fe3f8636.mp3",D=n.p+"static/media/bdweird3.6538aebd.mp3",P=n.p+"static/media/bdweird4.e0dc87e6.mp3",M=n.p+"static/media/perc1.caa8f07f.mp3",R=n.p+"static/media/perc2.0400d03c.mp3",G=n.p+"static/media/perc3.0607f8e2.mp3",K=n.p+"static/media/patt1.a98ea9f8.mp3",I=n.p+"static/media/patt2.a9155d0f.mp3",q=n.p+"static/media/patt3.fa7e08b9.mp3",z=n.p+"static/media/patt4.a0bb7d16.mp3",E=n(16),F=n(18),J=n(19),L=n(17),W=n(5),H=Object(W.jsx)(F.a,{icon:J.f}),U=Object(W.jsx)(F.a,{icon:J.d}),V=Object(W.jsx)(F.a,{icon:J.b}),Q=Object(W.jsx)(F.a,{icon:J.a}),X=Object(W.jsx)(F.a,{icon:J.e}),Y=Object(W.jsx)(F.a,{icon:J.c}),Z=L.b.div(r||(r=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  ","\n"])),(function(e){return e.isTrackOrMute&&Object(L.a)(c||(c=Object(E.a)(['\n      .btn {\n        width: 100px;\n        height: 40px;\n\n        &::before {\n          content: "";\n          width: 140px;\n          height: 140px;\n          position: absolute;\n          top: 170%;\n          left: -10%;\n          border-radius: 45%;\n\n          animation: '," 10s linear infinite;\n        }\n      }\n    "])),$)})),$=Object(L.c)(a||(a=Object(E.a)(["\n  0% {\n    transform: translate(-50%, -75%) rotate(0deg);\n  }\n  100% {\n    transform: translate(-50%, -75%) rotate(360deg);\n  }\n"]))),_=L.b.button(i||(i=Object(E.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  ","\n\n  ","\n"])),(function(e){return e.borderColor}),(function(e){return e.isTrackOrMute?'\n        overflow: hidden;\n        &::before {\n          background-color: #dedddf;\n        }\n        &::after {\n          content: "'.concat(e.trackKey,'";\n          color: #dedddf;\n          z-index: 1;\n          font-weight: 700;\n          font-size: 15px;\n          position: absolute;\n          bottom: 0;\n          right: 10%;\n        }\n        ').concat(e.isActive&&"".concat(e.trackSelectColor),"\n      "):'\n        &::after {\n          content: "";\n          height: '.concat(e.isActive?"6px":"3px",";\n          width: ").concat(e.isActive?"23px":"4px",";\n          position: absolute;\n          left: 104%;\n          background-color: ").concat(e.inputColor||"black",';\n          transition: width 0.25s ease, height 0.08s ease;\n        }\n        &::before {\n          content: "";\n          height: 6px;\n          width: 7px;\n          position: absolute;\n          left: -22%;\n          background-color: ').concat(e.inputColor||"black",";\n        }\n        &:hover::after {\n          height: 3px;\n          width: ").concat(e.isActive?"23px":"7px",";\n        }\n      ")})),ee=L.b.div(s||(s=Object(E.a)(["\n  display: flex;\n"]))),te=L.b.div(u||(u=Object(E.a)(["\n  display: flex;\n  border-radius: 4px;\n  color: #dedddf;\n  width: 100%;\n"]))),ne=L.b.button(o||(o=Object(E.a)(["\n  border: none;\n  display: flex;\n  color: #dedddf;\n  width: 50px;\n  height: 40px;\n  justify-content: center;\n  align-items: center;\n  border-radius: 4px;\n  background: linear-gradient(145deg, #313131, #292929);\n  box-shadow: 2px 2px 2px #2e2e2e, -2px -2px 2px #2e2e2e;\n\n  &:hover {\n    background: linear-gradient(145deg, #211e21, #1c191c);\n    box-shadow: 1px 1px 2px #1f1c1f, -1px -1px 2px #1f1c1f;\n  }\n"])));function re(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.map((function(e){return{isActive:t,group:e.group,name:e.name}}));return n}function ce(e){return new k.b(e)}var ae=n(13),ie=n(39),se=n.n(ie),ue={display:"flex",width:"100%",height:"auto"};function oe(e){var t=e.inputColor,n=e.wave;return Object(W.jsx)(se.a,{setup:function(e,t){e.createCanvas(150,100).parent(t).style("width","100%")},draw:function(e){e.background(t),e.stroke("#dedddf"),e.noFill(),e.strokeWeight(1);for(var r=n.current.getValue(),c=0,a=1;a<r.length;a++)if(r[a-1]<0&&r[a]>=0){c=a;break}for(var i=c+r.length/2,s=c;s<r.length;s++){var u=e.map(s-1,c,i,0,e.width),o=e.map(r[s-1],-1,1,0,e.height),p=e.map(s,c,i,0,e.width),b=e.map(r[s],-1,1,0,e.height);e.line(u,o,p,b)}},style:ue})}var pe=n(73),be=n(72),le=n(40),de=n.n(le),me=["sample","isActive","group","inputColor","trackSelectColor","borderColor","trackKey","handleRemoveTrack","trackIndex"],xe=["isActive","group","inputColor","borderColor"],fe=["isActive","group"],je=["onClick","minusOrPlus"],Oe=function(e){e.sample;var t=e.isActive,n=e.group,r=e.inputColor,c=e.trackSelectColor,a=e.borderColor,i=e.trackKey,s=e.handleRemoveTrack,u=e.trackIndex,o=Object(ae.a)(e,me);return Object(W.jsxs)("div",{className:"d-flex align-items-center",children:[Object(W.jsx)(ne,{onClick:function(){return s(u)},children:Y}),Object(W.jsx)(_,Object(j.a)({className:v()("btn btn-lg m-1",{"btn-danger":"bass"===n},{"btn-primary":"bd"===n},{"btn-warning":"perc"===n},{"btn-success":"patt"===n},"".concat(n+"-track")),inputColor:r(n),trackSelectColor:c(n),borderColor:a(n),isActive:t,isTrackOrMute:!0,trackKey:i},o))]})},he=function(e){var t=e.name,n=e.isActive,r=e.group,c=e.inputColor,a=e.trackKey,i=e.wave,s=e.sampleLeft,u=e.sampleRight,o=e.handleGroupSelect,p=e.trackIndex;return n?Object(W.jsxs)(te,{inputColor:c(r),isActive:n,children:[Object(W.jsxs)("div",{id:"track-group-container",children:[Object(W.jsx)(ve,{handleGroupSelect:o,name:t,trackKey:a,trackIndex:p}),Object(W.jsxs)("div",{className:"d-flex",style:{flex:"1",justifyContent:"flex-end"},children:[Object(W.jsx)("button",{className:"btn",id:"sample-left",onClick:s,children:Q}),Object(W.jsx)("button",{className:"btn",id:"sample-right",onClick:u,children:V})]})]}),Object(W.jsx)(oe,{inputColor:c(r),wave:i})]}):null},ve=function(e){var t=e.handleGroupSelect,n=e.name,r=e.trackKey,c=e.trackIndex;return Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(pe.a,{id:"track-group-button",title:n+" Track "+r,children:Object(W.jsxs)(be.a,{className:"d-flex justify-content-around",id:"track-group-modal",children:[Object(W.jsx)("button",{className:"btn btn-danger d-flex justify-content-center align-items-center",style:{height:"40px",width:"110px"},onClick:function(){t("bass",c)},children:"Bass"}),Object(W.jsx)("button",{className:"btn btn-primary d-flex justify-content-center align-items-center",style:{height:"40px",width:"110px"},onClick:function(){t("bd",c)},children:"Bass Drum"}),Object(W.jsx)("button",{className:"btn btn-warning d-flex justify-content-center align-items-center",style:{height:"40px",width:"110px",color:"white"},onClick:function(){t("perc",c)},children:"Percussion"}),Object(W.jsx)("button",{className:"btn btn-success d-flex justify-content-center align-items-center",style:{height:"40px",width:"110px"},onClick:function(){t("patt",c)},children:"Pattern"})]})})})},ke=function(e){var t=e.isActive,n=e.group,r=e.inputColor,c=e.borderColor,a=Object(ae.a)(e,xe);return Object(W.jsx)(_,Object(j.a)({className:v()("btn btn-lg m-1 d-flex",{"btn-danger":"bass"===n},{"btn-primary":"bd"===n},{"btn-warning":"perc"===n},{"btn-success":"patt"===n},"".concat(n+"-mute")),inputColor:r(n),borderColor:c(n),isActive:t,isTrackOrMute:!1},a))},ge=function(e){var t=e.isActive,n=e.group,r=Object(ae.a)(e,fe);return Object(W.jsx)("button",Object(j.a)({className:v()("btn btn-lg m-1",{"btn-outline-danger":"bass"===n},{"btn-outline-primary":"bd"===n},{"btn-outline-warning":"perc"===n},{"btn-outline-success":"patt"===n},{"btn-danger":t&&"bass"===n},{"btn-primary":t&&"bd"===n},{"btn-warning":t&&"perc"===n},{"btn-success":t&&"patt"===n})},r))},we=function(e){var t=e.onClick,n=e.minusOrPlus,r=Object(ae.a)(e,je);return Object(W.jsx)(de.a,Object(j.a)({tag:"button",type:"button",onHold:function(){t(!!n)},onRelease:function(){t(!!n)}},r))},ye=n(14);function Ce(e,t,n,r,c){return{newGrid:t.map((function(t){return t.map((function(t,n){var r=Object(j.a)({},t);return n===c&&(r.sample=e.current[c].sample,r.name=e.current[c].name,r.group=e.current[c].group),r}))})),newTrackActive:n.map((function(t){var n=Object(j.a)({},t);return n.isActive&&(n.name=e.current[c].name,n.group=e.current[c].group),n})),newTracksMute:r.map((function(t,n){var r=Object(j.a)({},t);return n===c&&(r.name=e.current[c].name,r.group=e.current[c].group),r}))}}var Ae={bass:{BS1:g},bd:{BD1:w,BD2:y,BD3:C,BD4:A,BD5:T,BD6:S,BD7:N,BD8:B,BD9:D,BD10:P},perc:{PC1:M,PC2:R,PC3:G},patt:{PT1:K,PT2:I,PT3:q,PT4:z}};function Te(){var e=Object(p.useState)("Untitled 1"),t=Object(O.a)(e,2),n=t[0],r=t[1],c=Object(p.useRef)();c.current||(c.current=new k.e);var a=Object(p.useRef)();a.current||(a.current={track0:(new k.a).toDestination().connect(c.current),track1:(new k.a).toDestination().connect(c.current),track2:(new k.a).toDestination().connect(c.current),track3:(new k.a).toDestination().connect(c.current)});var i=Object(p.useRef)();i.current||(i.current=[{group:"bass",sample:ce(Ae.bass.BS1).connect(a.current.track0),name:Object.keys(Ae.bass)[0]},{group:"bd",sample:ce(Ae.bd.BD1).connect(a.current.track1),name:Object.keys(Ae.bd)[0]},{group:"perc",sample:ce(Ae.perc.PC1).connect(a.current.track2),name:Object.keys(Ae.perc)[0]},{group:"patt",sample:ce(Ae.patt.PT1).connect(a.current.track3),name:Object.keys(Ae.patt)[0]}]);var s=Object(p.useState)(function(e){for(var t=[],n=0;n<32;n++){var r=e.map((function(e){return{sample:e.sample,isActive:!1,group:e.group,name:e.name}}));t.push(r)}return t}(i.current)),u=Object(O.a)(s,2),o=u[0],b=u[1],l=Object(p.useState)(re(i.current,!0)),d=Object(O.a)(l,2),h=d[0],g=d[1],w=Object(p.useState)(re(i.current,!1)),y=Object(O.a)(w,2),C=y[0],A=y[1],T=Object(p.useState)(!1),S=Object(O.a)(T,2),N=S[0],B=S[1],D=Object(p.useState)(null),P=Object(O.a)(D,2),M=P[0],R=P[1],G=Object(p.useRef)(null),K=Object(p.useState)(32),I=Object(O.a)(K,2),q=I[0],z=(I[1],Array(q).fill(null).map((function(e,t){return t}))),E=Array(q).fill(null).map((function(e,t){return[]})),F=Object(p.useRef)(E),J=Object(p.useState)(k.d.bpm.value),L=Object(O.a)(J,2),V=L[0],Q=L[1],$=function(e){return"bass"===e?"#dd0044":"bd"===e?"#0074c6":"perc"===e?"#dd4d00":"patt"===e?"#008300":"black"},_=function(e){return"bass"===e?"box-shadow: 9px 9px 18px #e03e6e, -9px -9px 18px #f8447a;":"bd"===e?"box-shadow:  9px 9px 18px #4598d4, -9px -9px 18px #4da8ea;":"perc"===e?"box-shadow:  9px 9px 18px #db753f, -9px -9px 18px #f28145;":"patt"===e?"box-shadow:  9px 9px 18px #33b233, -9px -9px 18px #39c439;":"black"},te=function(e){return"bass"===e?"box-shadow: 1px 1px 2px #d10040, -1px -1px 2px #ff0056;":"bd"===e?"box-shadow: 1px 1px 2px #006ebb, -1px -1px 2px #0094fd;":"perc"===e?"box-shadow: 1px 1px 2px #d14900, -1px -1px 2px #ff6300;":"patt"===e?"box-shadow: 1px 1px 2px #007c00, -1px -1px 2px #00a800;":"black"},ne=function(e,t){var n,r,c,s;i.current[t]={group:e,sample:ce(Object.values(Ae[e])[0]).connect(a.current["track"+t]),name:Object.keys(Ae[e])[0]},n=(s=Ce(i,o,C,h,t)).newGrid,r=s.newTrackActive,c=s.newTracksMute,F.current=[],n.map((function(e){var t=[];return e.map((function(e){return e.isActive&&t.push(e.sample)})),F.current.push(t)})),b(n),A(r),g(c)},ae=function(e){var t,n,r;delete a.current["track"+e],a.current=function(e){var t=Object.keys(e).map((function(t,n){var r="track"+n||!1;return Object(ye.a)({},r,e[t])}));return Object.assign.apply(Object,[{}].concat(Object(f.a)(t)))}(a.current),i.current.splice(e,1),t=o.map((function(t){var n=Object(f.a)(t);return n.splice(e,1),n})),(n=Object(f.a)(C)).splice(e,1),(r=Object(f.a)(h)).splice(e,1),F.current=[],t.map((function(e){var t=[];return e.map((function(e){return e.isActive&&t.push(e.sample)})),F.current.push(t)})),b(t),A(n),g(r)},ie=function(e){e?V<999&&Q((function(e){return e+1})):V>0&&Q((function(e){return e-1})),k.d.bpm.value=V},se=function(){var e=Object(x.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N){e.next=12;break}return B(!1),R(null),e.next=5,k.d.stop();case 5:return e.next=7,G.current.stop();case 7:return e.next=9,G.current.clear();case 9:return e.next=11,G.current.dispose();case 11:return e.abrupt("return");case 12:return G.current=new k.c((function(e,t){R(t),F.current[t].forEach((function(t){return t.start(e,0)}))}),z,"16n"),B(!0),e.next=16,k.f();case 16:return e.next=18,k.d.start();case 18:return e.next=20,G.current.start();case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsx)("div",{className:"App",children:Object(W.jsxs)("div",{id:"sequencer",children:[Object(W.jsxs)("div",{id:"upper-control-bar",children:[Object(W.jsx)("input",{type:"text",name:"title",id:"title",value:n,style:{fontWeight:"700"},onChange:function(e){r(e.target.value)}}),Object(W.jsx)("button",{className:"d-flex justify-content-center align-items-center btn btn-secondary",id:"play-button",onClick:function(){return se()},children:N?H:U}),Object(W.jsxs)("div",{id:"bpm-container",children:[Object(W.jsxs)("p",{className:"m-0",id:"bpm-title",children:["BPM ",V]}),Object(W.jsxs)("div",{id:"inc-dec-bpm-container",children:[Object(W.jsx)(we,{minusOrPlus:!1,onClick:ie,className:"btn btn-dark btn-sm",id:"decrease-bpm",children:Y}),Object(W.jsx)(we,{minusOrPlus:!0,onClick:ie,className:"btn btn-dark btn-sm",id:"increase-bpm",children:X})]})]})]}),Object(W.jsxs)("div",{id:"sample-container",children:[Object(W.jsx)(Z,{isTrackOrMute:!0,children:C.map((function(e,t){var n=e.sample,r=e.isActive,c=e.group;return Object(W.jsx)(Oe,{sample:n,group:c,isActive:r,inputColor:$,trackSelectColor:_,borderColor:te,onClick:function(){return function(e,t){var n=C.map((function(e,t){var n=Object(j.a)({},e);return n.isActive&&(n.isActive=!1),n})).map((function(t,n){var r=Object(j.a)({},t);return n===e&&(r.isActive=!t.isActive),r}));A(n)}(t)},trackKey:t+1,handleRemoveTrack:ae,trackIndex:t},c+"-track"+t)}))}),Object(W.jsx)(Z,{className:"me-3",children:h.map((function(e,t){var n=e.sample,r=e.isActive,c=e.group;return Object(W.jsx)(ke,{sample:n,group:c,isActive:r,inputColor:$,borderColor:te,onClick:function(){return function(e,t){var n=h.map((function(t,n){var r=Object(j.a)({},t);return n===e&&(r.isActive=!t.isActive),r}));a.current["track"+e].mute=!a.current["track"+e].mute,g(n)}(t)}},c+"-mute"+t)}))}),o.map((function(e,t){return Object(W.jsx)("div",{className:v()("sample-column",{"sample-column--active":M===t}),children:e.map((function(e,n){var r=e.sample,c=e.isActive,a=e.group;return Object(W.jsx)(ge,{sample:r,group:a,isActive:c,onClick:function(){return function(e,t,n){var r=o.map((function(n,r){return n.map((function(n,c){var a=Object(j.a)({},n);return r===e&&c===t&&(a.isActive=!n.isActive),a}))}));F.current=[],r.map((function(e){var t=[];return e.map((function(e){return e.isActive&&t.push(e.sample)})),F.current.push(t)})),b(r)}(t,n)}},a+"-sample"+n)}))},"sample-column"+t)}))]}),Object(W.jsx)("div",{className:"d-grid gap-2",children:Object(W.jsx)("button",{className:"d-flex justify-content-center align-items-center btn btn-secondary",id:"add-track-button",onClick:function(){return function(){var e,t,n;a.current["track"+Object.keys(a.current).length]=(new k.a).toDestination().connect(c.current),i.current.push({group:"bass",sample:ce(Ae.bass.BS1).connect(a.current["track"+(Object.keys(a.current).length-1)]),name:Object.keys(Ae.bass)[0]}),e=o.map((function(e){var t=Object(f.a)(e);return t.push({group:"bass",sample:ce(Ae.bass.BS1).connect(a.current["track"+(Object.keys(a.current).length-1)]),name:Object.keys(Ae.bass)[0]}),t})),(t=Object(f.a)(C)).push({isActive:!1,group:"bass",name:Object.keys(Ae.bass)[0]}),(n=Object(f.a)(h)).push({isActive:!0,group:"bass",name:Object.keys(Ae.bass)[0]}),b(e),A(t),g(n)}()},children:X})}),Object(W.jsx)(ee,{children:C.map((function(e,t){var n=e.isActive,r=e.group,s=e.name;return Object(W.jsx)(he,{name:s,isActive:n,group:r,inputColor:$,trackKey:t+1,wave:c,sampleLeft:function(){return function(e,t,n){var r,c,s,u,p=Object.keys(Ae[t]),l=Object.values(Ae[t]);p.indexOf(e)>-1&&p.indexOf(e)-1>-1?(i.current[n]={group:t,sample:ce(l[p.indexOf(e)-1]).connect(a.current["track"+n]),name:p[p.indexOf(e)-1]},r=(u=Ce(i,o,C,h,n)).newGrid,c=u.newTrackActive,s=u.newTracksMute):(i.current[n]={group:t,sample:ce(l[p.length-1]).connect(a.current["track"+n]),name:p[p.length-1]},r=(u=Ce(i,o,C,h,n)).newGrid,c=u.newTrackActive,s=u.newTracksMute),F.current=[],r.map((function(e){var t=[];return e.map((function(e){return e.isActive&&t.push(e.sample)})),F.current.push(t)})),b(r),A(c),g(s)}(s,r,t)},sampleRight:function(){return function(e,t,n){var r,c,s,u,p=Object.keys(Ae[t]),l=Object.values(Ae[t]);p.indexOf(e)>-1&&p.indexOf(e)+1<p.length?(i.current[n]={group:t,sample:ce(l[p.indexOf(e)+1]).connect(a.current["track"+n]),name:p[p.indexOf(e)+1]},r=(u=Ce(i,o,C,h,n)).newGrid,c=u.newTrackActive,s=u.newTracksMute):(i.current[n]={group:t,sample:ce(l[0]).connect(a.current["track"+n]),name:p[0]},r=(u=Ce(i,o,C,h,n)).newGrid,c=u.newTrackActive,s=u.newTracksMute),F.current=[],r.map((function(e){var t=[];return e.map((function(e){return e.isActive&&t.push(e.sample)})),F.current.push(t)})),b(r),A(c),g(s)}(s,r,t)},handleGroupSelect:ne,trackIndex:t},r+t)}))})]})})}var Se=document.getElementById("root");l.a.render(Object(W.jsx)(p.StrictMode,{children:Object(W.jsx)(Te,{})}),Se)}},[[67,1,2]]]);
//# sourceMappingURL=main.0524f978.chunk.js.map