(this["webpackJsonpsampler-sequencer-latest"]=this["webpackJsonpsampler-sequencer-latest"]||[]).push([[0],{49:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n(26),a=n.n(c),i=n(0),s=n.n(i),u=n(4),o=n(7),p=n(6),b=n(1),l=n(13),d=n(16),m=(n(49),n(9)),x=n.n(m),f=n(12),j=n.p+"static/media/bass1.6b9760b1.mp3",h=n.p+"static/media/bd1.7bb5d5d5.mp3",O=n.p+"static/media/bd2.56bdda17.mp3",v=n.p+"static/media/bd3.7422be23.mp3",k=n.p+"static/media/bd4.f9d7151b.mp3",g=n.p+"static/media/bd5.9678db00.mp3",w=n.p+"static/media/bd6.c342661d.mp3",y=n.p+"static/media/bdweird1.f5d4bd23.mp3",C=n.p+"static/media/bdweird2.fe3f8636.mp3",A=n.p+"static/media/bdweird3.6538aebd.mp3",T=n.p+"static/media/bdweird4.e0dc87e6.mp3",S=n.p+"static/media/perc1.caa8f07f.mp3",N=n.p+"static/media/perc2.0400d03c.mp3",B=n.p+"static/media/perc3.0607f8e2.mp3",D=n.p+"static/media/patt1.a98ea9f8.mp3",P=n.p+"static/media/patt2.a9155d0f.mp3",M=n.p+"static/media/patt3.fa7e08b9.mp3",R=n.p+"static/media/patt4.a0bb7d16.mp3",G=n(18),K=n(19),I=n(17),q=n(36),z=n.n(q),E=n(5),F={display:"flex",width:"100%",height:"auto"};function J(e){var t=e.inputColor,n=e.wave;return Object(E.jsx)(z.a,{setup:function(e,t){e.createCanvas(150,100).parent(t).style("width","100%")},draw:function(e){e.background(t),e.stroke("#dedddf"),e.noFill(),e.strokeWeight(1);for(var r=n.current.getValue(),c=0,a=1;a<r.length;a++)if(r[a-1]<0&&r[a]>=0){c=a;break}for(var i=c+r.length/2,s=c;s<r.length;s++){var u=e.map(s-1,c,i,0,e.width),o=e.map(r[s-1],-1,1,0,e.height),p=e.map(s,c,i,0,e.width),b=e.map(r[s],-1,1,0,e.height);e.line(u,o,p,b)}},style:F})}var L,W,H,U,V,Q,X,Y=n(73),Z=n(72),$=n(37),_=n.n($),ee=["sample","isActive","group","inputColor","trackSelectColor","borderColor","trackKey","handleRemoveTrack","trackIndex"],te=["isActive","group","inputColor","borderColor"],ne=["isActive","group"],re=["onClick","minusOrPlus"],ce=Object(E.jsx)(G.a,{icon:K.f}),ae=Object(E.jsx)(G.a,{icon:K.d}),ie=Object(E.jsx)(G.a,{icon:K.b}),se=Object(E.jsx)(G.a,{icon:K.a}),ue=Object(E.jsx)(G.a,{icon:K.e}),oe=Object(E.jsx)(G.a,{icon:K.c}),pe=I.b.div(L||(L=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  ","\n"])),(function(e){return e.isTrackOrMute&&Object(I.a)(W||(W=Object(d.a)(['\n      .btn {\n        width: 100px;\n        height: 40px;\n\n        &::before {\n          content: "";\n          width: 140px;\n          height: 140px;\n          position: absolute;\n          top: 170%;\n          left: -10%;\n          border-radius: 45%;\n\n          animation: '," 10s linear infinite;\n        }\n      }\n    "])),be)})),be=Object(I.c)(H||(H=Object(d.a)(["\n  0% {\n    transform: translate(-50%, -75%) rotate(0deg);\n  }\n  100% {\n    transform: translate(-50%, -75%) rotate(360deg);\n  }\n"]))),le=I.b.button(U||(U=Object(d.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  ","\n\n  ","\n"])),(function(e){return e.borderColor}),(function(e){return e.isTrackOrMute?'\n        overflow: hidden;\n        &::before {\n          background-color: #dedddf;\n        }\n        &::after {\n          content: "'.concat(e.trackKey,'";\n          color: #dedddf;\n          z-index: 1;\n          font-weight: 700;\n          font-size: 15px;\n          position: absolute;\n          bottom: 0;\n          right: 10%;\n        }\n        ').concat(e.isActive&&"".concat(e.trackSelectColor),"\n      "):'\n        &::after {\n          content: "";\n          height: '.concat(e.isActive?"6px":"3px",";\n          width: ").concat(e.isActive?"23px":"4px",";\n          position: absolute;\n          left: 104%;\n          background-color: ").concat(e.inputColor||"black",';\n          transition: width 0.25s ease, height 0.08s ease;\n        }\n        &::before {\n          content: "";\n          height: 6px;\n          width: 7px;\n          position: absolute;\n          left: -22%;\n          background-color: ').concat(e.inputColor||"black",";\n        }\n        &:hover::after {\n          height: 3px;\n          width: ").concat(e.isActive?"23px":"7px",";\n        }\n      ")})),de=I.b.div(V||(V=Object(d.a)(["\n  display: flex;\n"]))),me=I.b.div(Q||(Q=Object(d.a)(["\n  display: flex;\n  border-radius: 4px;\n  color: #dedddf;\n  width: 100%;\n"]))),xe=I.b.button(X||(X=Object(d.a)(["\n  border: none;\n  display: flex;\n  color: #dedddf;\n  width: 50px;\n  height: 40px;\n  justify-content: center;\n  align-items: center;\n  border-radius: 4px;\n  background: linear-gradient(145deg, #313131, #292929);\n  box-shadow: 2px 2px 2px #2e2e2e, -2px -2px 2px #2e2e2e;\n\n  &:hover {\n    background: linear-gradient(145deg, #211e21, #1c191c);\n    box-shadow: 1px 1px 2px #1f1c1f, -1px -1px 2px #1f1c1f;\n  }\n"])));function fe(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.map((function(e){return{isActive:t,group:e.group,name:e.name}}));return n}function je(e){return new f.b(e)}var he={bass:{BS1:j},bd:{BD1:h,BD2:O,BD3:v,BD4:k,BD5:g,BD6:w,BD7:y,BD8:C,BD9:A,BD10:T},perc:{PC1:S,PC2:N,PC3:B},patt:{PT1:D,PT2:P,PT3:M,PT4:R}},Oe=function(e){e.sample;var t=e.isActive,n=e.group,r=e.inputColor,c=e.trackSelectColor,a=e.borderColor,i=e.trackKey,s=e.handleRemoveTrack,u=e.trackIndex,o=Object(l.a)(e,ee);return Object(E.jsxs)("div",{className:"d-flex align-items-center",children:[Object(E.jsx)(xe,{onClick:function(){return s(u)},children:oe}),Object(E.jsx)(le,Object(b.a)({className:x()("btn btn-lg m-1",{"btn-danger":"bass"===n},{"btn-primary":"bd"===n},{"btn-warning":"perc"===n},{"btn-success":"patt"===n},"".concat(n+"-track")),inputColor:r(n),trackSelectColor:c(n),borderColor:a(n),isActive:t,isTrackOrMute:!0,trackKey:i},o))]})},ve=function(e){var t=e.name,n=e.isActive,r=e.group,c=e.inputColor,a=e.trackKey,i=e.wave,s=e.sampleLeft,u=e.sampleRight,o=e.handleGroupSelect,p=e.trackIndex;return n?Object(E.jsxs)(me,{inputColor:c(r),isActive:n,children:[Object(E.jsxs)("div",{id:"track-group-container",children:[Object(E.jsx)(ke,{handleGroupSelect:o,name:t,trackKey:a,trackIndex:p}),Object(E.jsxs)("div",{className:"d-flex",style:{flex:"1",justifyContent:"flex-end"},children:[Object(E.jsx)("button",{className:"btn",id:"sample-left",onClick:s,children:se}),Object(E.jsx)("button",{className:"btn",id:"sample-right",onClick:u,children:ie})]})]}),Object(E.jsx)(J,{inputColor:c(r),wave:i})]}):null},ke=function(e){var t=e.handleGroupSelect,n=e.name,r=e.trackKey,c=e.trackIndex;return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(Y.a,{id:"track-group-button",title:n+" Track "+r,children:Object(E.jsxs)(Z.a,{className:"d-flex justify-content-around",style:{width:"500px"},children:[Object(E.jsx)("button",{className:"btn btn-danger d-flex justify-content-center align-items-center",style:{height:"40px",width:"110px"},onClick:function(){t("bass",c)},children:"Bass"}),Object(E.jsx)("button",{className:"btn btn-primary d-flex justify-content-center align-items-center",style:{height:"40px",width:"110px"},onClick:function(){t("bd",c)},children:"Bass Drum"}),Object(E.jsx)("button",{className:"btn btn-warning d-flex justify-content-center align-items-center",style:{height:"40px",width:"110px",color:"white"},onClick:function(){t("perc",c)},children:"Percussion"}),Object(E.jsx)("button",{className:"btn btn-success d-flex justify-content-center align-items-center",style:{height:"40px",width:"110px"},onClick:function(){t("patt",c)},children:"Pattern"})]})})})},ge=function(e){var t=e.isActive,n=e.group,r=e.inputColor,c=e.borderColor,a=Object(l.a)(e,te);return Object(E.jsx)(le,Object(b.a)({className:x()("btn btn-lg m-1 d-flex",{"btn-danger":"bass"===n},{"btn-primary":"bd"===n},{"btn-warning":"perc"===n},{"btn-success":"patt"===n},"".concat(n+"-mute")),inputColor:r(n),borderColor:c(n),isActive:t,isTrackOrMute:!1},a))},we=function(e){var t=e.isActive,n=e.group,r=Object(l.a)(e,ne);return Object(E.jsx)("button",Object(b.a)({className:x()("btn btn-lg m-1",{"btn-outline-danger":"bass"===n},{"btn-outline-primary":"bd"===n},{"btn-outline-warning":"perc"===n},{"btn-outline-success":"patt"===n},{"btn-danger":t&&"bass"===n},{"btn-primary":t&&"bd"===n},{"btn-warning":t&&"perc"===n},{"btn-success":t&&"patt"===n})},r))},ye=function(e){var t=e.onClick,n=e.minusOrPlus,r=Object(l.a)(e,re);return Object(E.jsx)(_.a,Object(b.a)({tag:"button",type:"button",onHold:function(){t(!!n)},onRelease:function(){t(!!n)}},r))};function Ce(e,t,n,r,c){return{newGrid:t.map((function(t){return t.map((function(t,n){var r=Object(b.a)({},t);return n===c&&(r.sample=e.current[c].sample,r.name=e.current[c].name,r.group=e.current[c].group),r}))})),newTrackActive:n.map((function(t){var n=Object(b.a)({},t);return n.isActive&&(n.name=e.current[c].name,n.group=e.current[c].group),n})),newTracksMute:r.map((function(t,n){var r=Object(b.a)({},t);return n===c&&(r.name=e.current[c].name,r.group=e.current[c].group),r}))}}function Ae(){var e=Object(r.useState)("Untitled 1"),t=Object(p.a)(e,2),n=t[0],c=t[1],a=Object(r.useRef)();a.current||(a.current=new f.e);var i=Object(r.useRef)();i.current||(i.current={track0:(new f.a).toDestination().connect(a.current),track1:(new f.a).toDestination().connect(a.current),track2:(new f.a).toDestination().connect(a.current),track3:(new f.a).toDestination().connect(a.current)});var l=Object(r.useRef)();l.current||(l.current=[{group:"bass",sample:je(he.bass.BS1).connect(i.current.track0),name:Object.keys(he.bass)[0]},{group:"bd",sample:je(he.bd.BD1).connect(i.current.track1),name:Object.keys(he.bd)[0]},{group:"perc",sample:je(he.perc.PC1).connect(i.current.track2),name:Object.keys(he.perc)[0]},{group:"patt",sample:je(he.patt.PT1).connect(i.current.track3),name:Object.keys(he.patt)[0]}]);var d=Object(r.useState)(function(e){for(var t=[],n=0;n<32;n++){var r=e.map((function(e){return{sample:e.sample,isActive:!1,group:e.group,name:e.name}}));t.push(r)}return t}(l.current)),m=Object(p.a)(d,2),j=m[0],h=m[1],O=Object(r.useState)(fe(l.current,!0)),v=Object(p.a)(O,2),k=v[0],g=v[1],w=Object(r.useState)(fe(l.current,!1)),y=Object(p.a)(w,2),C=y[0],A=y[1],T=Object(r.useState)(!1),S=Object(p.a)(T,2),N=S[0],B=S[1],D=Object(r.useState)(null),P=Object(p.a)(D,2),M=P[0],R=P[1],G=Object(r.useRef)(null),K=Object(r.useState)(32),I=Object(p.a)(K,2),q=I[0],z=(I[1],Array(q).fill(null).map((function(e,t){return t}))),F=Array(q).fill(null).map((function(e,t){return[]})),J=Object(r.useRef)(F),L=Object(r.useState)(f.d.bpm.value),W=Object(p.a)(L,2),H=W[0],U=W[1],V=function(e){return"bass"===e?"#dd0044":"bd"===e?"#0074c6":"perc"===e?"#dd4d00":"patt"===e?"#008300":"black"},Q=function(e){return"bass"===e?"box-shadow: 9px 9px 18px #e03e6e, -9px -9px 18px #f8447a;":"bd"===e?"box-shadow:  9px 9px 18px #4598d4, -9px -9px 18px #4da8ea;":"perc"===e?"box-shadow:  9px 9px 18px #db753f, -9px -9px 18px #f28145;":"patt"===e?"box-shadow:  9px 9px 18px #33b233, -9px -9px 18px #39c439;":"black"},X=function(e){return"bass"===e?"box-shadow: 1px 1px 2px #d10040, -1px -1px 2px #ff0056;":"bd"===e?"box-shadow: 1px 1px 2px #006ebb, -1px -1px 2px #0094fd;":"perc"===e?"box-shadow: 1px 1px 2px #d14900, -1px -1px 2px #ff6300;":"patt"===e?"box-shadow: 1px 1px 2px #007c00, -1px -1px 2px #00a800;":"black"},Y=function(e,t){var n,r,c,a;l.current[t]={group:e,sample:je(Object.values(he[e])[0]).connect(i.current["track"+t]),name:Object.keys(he[e])[0]},n=(a=Ce(l,j,C,k,t)).newGrid,r=a.newTrackActive,c=a.newTracksMute,J.current=[],n.map((function(e){var t=[];return e.map((function(e){return e.isActive&&t.push(e.sample)})),J.current.push(t)})),h(n),A(r),g(c)},Z=function(e){var t,n,r;delete i.current["track"+e],l.current.splice(e,1),t=j.map((function(t){var n=Object(o.a)(t);return n.splice(e,1),n})),(n=Object(o.a)(C)).splice(e,1),(r=Object(o.a)(k)).splice(e,1),J.current=[],t.map((function(e){var t=[];return e.map((function(e){return e.isActive&&t.push(e.sample)})),J.current.push(t)})),h(t),A(n),g(r)},$=function(e){e?H<999&&U((function(e){return e+1})):H>0&&U((function(e){return e-1})),f.d.bpm.value=H},_=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N){e.next=12;break}return B(!1),R(null),e.next=5,f.d.stop();case 5:return e.next=7,G.current.stop();case 7:return e.next=9,G.current.clear();case 9:return e.next=11,G.current.dispose();case 11:return e.abrupt("return");case 12:return G.current=new f.c((function(e,t){R(t),J.current[t].forEach((function(t){return t.start(e,0)}))}),z,"16n"),B(!0),e.next=16,f.f();case 16:return e.next=18,f.d.start();case 18:return e.next=20,G.current.start();case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{className:"App",children:Object(E.jsxs)("div",{id:"sequencer",children:[Object(E.jsxs)("div",{id:"upper-control-bar",children:[Object(E.jsx)("input",{type:"text",name:"title",id:"title",value:n,style:{fontWeight:"700"},onChange:function(e){c(e.target.value)}}),Object(E.jsx)("button",{className:"d-flex justify-content-center align-items-center btn btn-secondary",id:"play-button",onClick:function(){return _()},children:N?ce:ae}),Object(E.jsxs)("div",{id:"bpm-container",children:[Object(E.jsxs)("p",{className:"m-0",id:"bpm-title",children:["BPM ",H]}),Object(E.jsxs)("div",{id:"inc-dec-bpm-container",children:[Object(E.jsx)(ye,{minusOrPlus:!1,onClick:$,className:"btn btn-dark btn-sm",id:"decrease-bpm",children:oe}),Object(E.jsx)(ye,{minusOrPlus:!0,onClick:$,className:"btn btn-dark btn-sm",id:"increase-bpm",children:ue})]})]})]}),Object(E.jsxs)("div",{id:"sample-container",children:[Object(E.jsx)(pe,{isTrackOrMute:!0,children:C.map((function(e,t){var n=e.sample,r=e.isActive,c=e.group;return Object(E.jsx)(Oe,{sample:n,group:c,isActive:r,inputColor:V,trackSelectColor:Q,borderColor:X,onClick:function(){return function(e,t){var n=C.map((function(e,t){var n=Object(b.a)({},e);return n.isActive&&(n.isActive=!1),n})).map((function(t,n){var r=Object(b.a)({},t);return n===e&&(r.isActive=!t.isActive),r}));A(n)}(t)},trackKey:t+1,handleRemoveTrack:Z,trackIndex:t},c+"-track"+t)}))}),Object(E.jsx)(pe,{className:"me-3",children:k.map((function(e,t){var n=e.sample,r=e.isActive,c=e.group;return Object(E.jsx)(ge,{sample:n,group:c,isActive:r,inputColor:V,borderColor:X,onClick:function(){return function(e,t){var n=k.map((function(t,n){var r=Object(b.a)({},t);return n===e&&(r.isActive=!t.isActive),r}));i.current["track"+e].mute=!i.current["track"+e].mute,g(n)}(t)}},c+"-mute"+t)}))}),j.map((function(e,t){return Object(E.jsx)("div",{className:x()("sample-column",{"sample-column--active":M===t}),children:e.map((function(e,n){var r=e.sample,c=e.isActive,a=e.group;return Object(E.jsx)(we,{sample:r,group:a,isActive:c,onClick:function(){return function(e,t,n){var r=j.map((function(n,r){return n.map((function(n,c){var a=Object(b.a)({},n);return r===e&&c===t&&(a.isActive=!n.isActive),a}))}));J.current=[],r.map((function(e){var t=[];return e.map((function(e){return e.isActive&&t.push(e.sample)})),J.current.push(t)})),h(r)}(t,n)}},a+"-sample"+n)}))},"sample-column"+t)}))]}),Object(E.jsx)("div",{className:"d-grid gap-2",children:Object(E.jsx)("button",{className:"d-flex justify-content-center align-items-center btn btn-secondary",id:"add-track-button",onClick:function(){return function(){var e,t,n;i.current["track"+Object.keys(i.current).length]=(new f.a).toDestination().connect(a.current),l.current.push({group:"bass",sample:je(he.bass.BS1).connect(i.current["track"+(Object.keys(i.current).length-1)]),name:Object.keys(he.bass)[0]}),e=j.map((function(e){var t=Object(o.a)(e);return t.push({group:"bass",sample:je(he.bass.BS1).connect(i.current["track"+(Object.keys(i.current).length-1)]),name:Object.keys(he.bass)[0]}),t})),(t=Object(o.a)(C)).push({isActive:!1,group:"bass",name:Object.keys(he.bass)[0]}),(n=Object(o.a)(k)).push({isActive:!0,group:"bass",name:Object.keys(he.bass)[0]}),h(e),A(t),g(n)}()},children:ue})}),Object(E.jsx)(de,{children:C.map((function(e,t){var n=e.isActive,r=e.group,c=e.name;return Object(E.jsx)(ve,{name:c,isActive:n,group:r,inputColor:V,trackKey:t+1,wave:a,sampleLeft:function(){return function(e,t,n){var r,c,a,s,u=Object.keys(he[t]),o=Object.values(he[t]);u.indexOf(e)>-1&&u.indexOf(e)-1>-1?(l.current[n]={group:t,sample:je(o[u.indexOf(e)-1]).connect(i.current["track"+n]),name:u[u.indexOf(e)-1]},r=(s=Ce(l,j,C,k,n)).newGrid,c=s.newTrackActive,a=s.newTracksMute):(l.current[n]={group:t,sample:je(o[u.length-1]).connect(i.current["track"+n]),name:u[u.length-1]},r=(s=Ce(l,j,C,k,n)).newGrid,c=s.newTrackActive,a=s.newTracksMute),J.current=[],r.map((function(e){var t=[];return e.map((function(e){return e.isActive&&t.push(e.sample)})),J.current.push(t)})),h(r),A(c),g(a)}(c,r,t)},sampleRight:function(){return function(e,t,n){var r,c,a,s,u=Object.keys(he[t]),o=Object.values(he[t]);u.indexOf(e)>-1&&u.indexOf(e)+1<u.length?(l.current[n]={group:t,sample:je(o[u.indexOf(e)+1]).connect(i.current["track"+n]),name:u[u.indexOf(e)+1]},r=(s=Ce(l,j,C,k,n)).newGrid,c=s.newTrackActive,a=s.newTracksMute):(l.current[n]={group:t,sample:je(o[0]).connect(i.current["track"+n]),name:u[0]},r=(s=Ce(l,j,C,k,n)).newGrid,c=s.newTrackActive,a=s.newTracksMute),J.current=[],r.map((function(e){var t=[];return e.map((function(e){return e.isActive&&t.push(e.sample)})),J.current.push(t)})),h(r),A(c),g(a)}(c,r,t)},handleGroupSelect:Y,trackIndex:t},r+t)}))})]})})}var Te=document.getElementById("root");a.a.render(Object(E.jsx)(r.StrictMode,{children:Object(E.jsx)(Ae,{})}),Te)}},[[67,1,2]]]);
//# sourceMappingURL=main.77782640.chunk.js.map