(this["webpackJsonpsampler-sequencer-latest"]=this["webpackJsonpsampler-sequencer-latest"]||[]).push([[0],{49:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n(26),a=n.n(c),i=n(0),s=n.n(i),u=n(4),o=n(6),p=n(7),b=n(14),l=n(1),d=n(13),m=n(16),x=(n(49),n(9)),f=n.n(x),j=n(12),O=n.p+"static/media/bass1.6b9760b1.mp3",h=n.p+"static/media/bd1.7bb5d5d5.mp3",v=n.p+"static/media/bd2.56bdda17.mp3",k=n.p+"static/media/bd3.7422be23.mp3",g=n.p+"static/media/bd4.f9d7151b.mp3",w=n.p+"static/media/bd5.9678db00.mp3",y=n.p+"static/media/bd6.c342661d.mp3",C=n.p+"static/media/bdweird1.f5d4bd23.mp3",A=n.p+"static/media/bdweird2.fe3f8636.mp3",T=n.p+"static/media/bdweird3.6538aebd.mp3",S=n.p+"static/media/bdweird4.e0dc87e6.mp3",N=n.p+"static/media/perc1.caa8f07f.mp3",B=n.p+"static/media/perc2.0400d03c.mp3",D=n.p+"static/media/perc3.0607f8e2.mp3",P=n.p+"static/media/patt1.a98ea9f8.mp3",M=n.p+"static/media/patt2.a9155d0f.mp3",R=n.p+"static/media/patt3.fa7e08b9.mp3",G=n.p+"static/media/patt4.a0bb7d16.mp3",K=n(18),I=n(19),q=n(17),z=n(36),E=n.n(z),F=n(5),J={display:"flex",width:"100%",height:"auto"};function L(e){var t=e.inputColor,n=e.wave;return Object(F.jsx)(E.a,{setup:function(e,t){e.createCanvas(150,100).parent(t).style("width","100%")},draw:function(e){e.background(t),e.stroke("#dedddf"),e.noFill(),e.strokeWeight(1);for(var r=n.current.getValue(),c=0,a=1;a<r.length;a++)if(r[a-1]<0&&r[a]>=0){c=a;break}for(var i=c+r.length/2,s=c;s<r.length;s++){var u=e.map(s-1,c,i,0,e.width),o=e.map(r[s-1],-1,1,0,e.height),p=e.map(s,c,i,0,e.width),b=e.map(r[s],-1,1,0,e.height);e.line(u,o,p,b)}},style:J})}var W,H,U,V,Q,X,Y,Z=n(73),$=n(72),_=n(37),ee=n.n(_),te=["sample","isActive","group","inputColor","trackSelectColor","borderColor","trackKey","handleRemoveTrack","trackIndex"],ne=["isActive","group","inputColor","borderColor"],re=["isActive","group"],ce=["onClick","minusOrPlus"],ae=Object(F.jsx)(K.a,{icon:I.f}),ie=Object(F.jsx)(K.a,{icon:I.d}),se=Object(F.jsx)(K.a,{icon:I.b}),ue=Object(F.jsx)(K.a,{icon:I.a}),oe=Object(F.jsx)(K.a,{icon:I.e}),pe=Object(F.jsx)(K.a,{icon:I.c}),be=q.b.div(W||(W=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  ","\n"])),(function(e){return e.isTrackOrMute&&Object(q.a)(H||(H=Object(m.a)(['\n      .btn {\n        width: 100px;\n        height: 40px;\n\n        &::before {\n          content: "";\n          width: 140px;\n          height: 140px;\n          position: absolute;\n          top: 170%;\n          left: -10%;\n          border-radius: 45%;\n\n          animation: '," 10s linear infinite;\n        }\n      }\n    "])),le)})),le=Object(q.c)(U||(U=Object(m.a)(["\n  0% {\n    transform: translate(-50%, -75%) rotate(0deg);\n  }\n  100% {\n    transform: translate(-50%, -75%) rotate(360deg);\n  }\n"]))),de=q.b.button(V||(V=Object(m.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  ","\n\n  ","\n"])),(function(e){return e.borderColor}),(function(e){return e.isTrackOrMute?'\n        overflow: hidden;\n        &::before {\n          background-color: #dedddf;\n        }\n        &::after {\n          content: "'.concat(e.trackKey,'";\n          color: #dedddf;\n          z-index: 1;\n          font-weight: 700;\n          font-size: 15px;\n          position: absolute;\n          bottom: 0;\n          right: 10%;\n        }\n        ').concat(e.isActive&&"".concat(e.trackSelectColor),"\n      "):'\n        &::after {\n          content: "";\n          height: '.concat(e.isActive?"6px":"3px",";\n          width: ").concat(e.isActive?"23px":"4px",";\n          position: absolute;\n          left: 104%;\n          background-color: ").concat(e.inputColor||"black",';\n          transition: width 0.25s ease, height 0.08s ease;\n        }\n        &::before {\n          content: "";\n          height: 6px;\n          width: 7px;\n          position: absolute;\n          left: -22%;\n          background-color: ').concat(e.inputColor||"black",";\n        }\n        &:hover::after {\n          height: 3px;\n          width: ").concat(e.isActive?"23px":"7px",";\n        }\n      ")})),me=q.b.div(Q||(Q=Object(m.a)(["\n  display: flex;\n"]))),xe=q.b.div(X||(X=Object(m.a)(["\n  display: flex;\n  border-radius: 4px;\n  color: #dedddf;\n  width: 100%;\n"]))),fe=q.b.button(Y||(Y=Object(m.a)(["\n  border: none;\n  display: flex;\n  color: #dedddf;\n  width: 50px;\n  height: 40px;\n  justify-content: center;\n  align-items: center;\n  border-radius: 4px;\n  background: linear-gradient(145deg, #313131, #292929);\n  box-shadow: 2px 2px 2px #2e2e2e, -2px -2px 2px #2e2e2e;\n\n  &:hover {\n    background: linear-gradient(145deg, #211e21, #1c191c);\n    box-shadow: 1px 1px 2px #1f1c1f, -1px -1px 2px #1f1c1f;\n  }\n"])));function je(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.map((function(e){return{isActive:t,group:e.group,name:e.name}}));return n}function Oe(e){return new j.b(e)}var he={bass:{BS1:O},bd:{BD1:h,BD2:v,BD3:k,BD4:g,BD5:w,BD6:y,BD7:C,BD8:A,BD9:T,BD10:S},perc:{PC1:N,PC2:B,PC3:D},patt:{PT1:P,PT2:M,PT3:R,PT4:G}},ve=function(e){e.sample;var t=e.isActive,n=e.group,r=e.inputColor,c=e.trackSelectColor,a=e.borderColor,i=e.trackKey,s=e.handleRemoveTrack,u=e.trackIndex,o=Object(d.a)(e,te);return Object(F.jsxs)("div",{className:"d-flex align-items-center",children:[Object(F.jsx)(fe,{onClick:function(){return s(u)},children:pe}),Object(F.jsx)(de,Object(l.a)({className:f()("btn btn-lg m-1",{"btn-danger":"bass"===n},{"btn-primary":"bd"===n},{"btn-warning":"perc"===n},{"btn-success":"patt"===n},"".concat(n+"-track")),inputColor:r(n),trackSelectColor:c(n),borderColor:a(n),isActive:t,isTrackOrMute:!0,trackKey:i},o))]})},ke=function(e){var t=e.name,n=e.isActive,r=e.group,c=e.inputColor,a=e.trackKey,i=e.wave,s=e.sampleLeft,u=e.sampleRight,o=e.handleGroupSelect,p=e.trackIndex;return n?Object(F.jsxs)(xe,{inputColor:c(r),isActive:n,children:[Object(F.jsxs)("div",{id:"track-group-container",children:[Object(F.jsx)(ge,{handleGroupSelect:o,name:t,trackKey:a,trackIndex:p}),Object(F.jsxs)("div",{className:"d-flex",style:{flex:"1",justifyContent:"flex-end"},children:[Object(F.jsx)("button",{className:"btn",id:"sample-left",onClick:s,children:ue}),Object(F.jsx)("button",{className:"btn",id:"sample-right",onClick:u,children:se})]})]}),Object(F.jsx)(L,{inputColor:c(r),wave:i})]}):null},ge=function(e){var t=e.handleGroupSelect,n=e.name,r=e.trackKey,c=e.trackIndex;return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(Z.a,{id:"track-group-button",title:n+" Track "+r,children:Object(F.jsxs)($.a,{className:"d-flex justify-content-around",id:"track-group-modal",children:[Object(F.jsx)("button",{className:"btn btn-danger d-flex justify-content-center align-items-center",style:{height:"40px",width:"110px"},onClick:function(){t("bass",c)},children:"Bass"}),Object(F.jsx)("button",{className:"btn btn-primary d-flex justify-content-center align-items-center",style:{height:"40px",width:"110px"},onClick:function(){t("bd",c)},children:"Bass Drum"}),Object(F.jsx)("button",{className:"btn btn-warning d-flex justify-content-center align-items-center",style:{height:"40px",width:"110px",color:"white"},onClick:function(){t("perc",c)},children:"Percussion"}),Object(F.jsx)("button",{className:"btn btn-success d-flex justify-content-center align-items-center",style:{height:"40px",width:"110px"},onClick:function(){t("patt",c)},children:"Pattern"})]})})})},we=function(e){var t=e.isActive,n=e.group,r=e.inputColor,c=e.borderColor,a=Object(d.a)(e,ne);return Object(F.jsx)(de,Object(l.a)({className:f()("btn btn-lg m-1 d-flex",{"btn-danger":"bass"===n},{"btn-primary":"bd"===n},{"btn-warning":"perc"===n},{"btn-success":"patt"===n},"".concat(n+"-mute")),inputColor:r(n),borderColor:c(n),isActive:t,isTrackOrMute:!1},a))},ye=function(e){var t=e.isActive,n=e.group,r=Object(d.a)(e,re);return Object(F.jsx)("button",Object(l.a)({className:f()("btn btn-lg m-1",{"btn-outline-danger":"bass"===n},{"btn-outline-primary":"bd"===n},{"btn-outline-warning":"perc"===n},{"btn-outline-success":"patt"===n},{"btn-danger":t&&"bass"===n},{"btn-primary":t&&"bd"===n},{"btn-warning":t&&"perc"===n},{"btn-success":t&&"patt"===n})},r))},Ce=function(e){var t=e.onClick,n=e.minusOrPlus,r=Object(d.a)(e,ce);return Object(F.jsx)(ee.a,Object(l.a)({tag:"button",type:"button",onHold:function(){t(!!n)},onRelease:function(){t(!!n)}},r))};function Ae(e,t,n,r,c){return{newGrid:t.map((function(t){return t.map((function(t,n){var r=Object(l.a)({},t);return n===c&&(r.sample=e.current[c].sample,r.name=e.current[c].name,r.group=e.current[c].group),r}))})),newTrackActive:n.map((function(t){var n=Object(l.a)({},t);return n.isActive&&(n.name=e.current[c].name,n.group=e.current[c].group),n})),newTracksMute:r.map((function(t,n){var r=Object(l.a)({},t);return n===c&&(r.name=e.current[c].name,r.group=e.current[c].group),r}))}}function Te(){var e=Object(r.useState)("Untitled 1"),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(r.useRef)();a.current||(a.current=new j.e);var i=Object(r.useRef)();i.current||(i.current={track0:(new j.a).toDestination().connect(a.current),track1:(new j.a).toDestination().connect(a.current),track2:(new j.a).toDestination().connect(a.current),track3:(new j.a).toDestination().connect(a.current)});var d=Object(r.useRef)();d.current||(d.current=[{group:"bass",sample:Oe(he.bass.BS1).connect(i.current.track0),name:Object.keys(he.bass)[0]},{group:"bd",sample:Oe(he.bd.BD1).connect(i.current.track1),name:Object.keys(he.bd)[0]},{group:"perc",sample:Oe(he.perc.PC1).connect(i.current.track2),name:Object.keys(he.perc)[0]},{group:"patt",sample:Oe(he.patt.PT1).connect(i.current.track3),name:Object.keys(he.patt)[0]}]);var m=Object(r.useState)(function(e){for(var t=[],n=0;n<32;n++){var r=e.map((function(e){return{sample:e.sample,isActive:!1,group:e.group,name:e.name}}));t.push(r)}return t}(d.current)),x=Object(o.a)(m,2),O=x[0],h=x[1],v=Object(r.useState)(je(d.current,!0)),k=Object(o.a)(v,2),g=k[0],w=k[1],y=Object(r.useState)(je(d.current,!1)),C=Object(o.a)(y,2),A=C[0],T=C[1],S=Object(r.useState)(!1),N=Object(o.a)(S,2),B=N[0],D=N[1],P=Object(r.useState)(null),M=Object(o.a)(P,2),R=M[0],G=M[1],K=Object(r.useRef)(null),I=Object(r.useState)(32),q=Object(o.a)(I,2),z=q[0],E=(q[1],Array(z).fill(null).map((function(e,t){return t}))),J=Array(z).fill(null).map((function(e,t){return[]})),L=Object(r.useRef)(J),W=Object(r.useState)(j.d.bpm.value),H=Object(o.a)(W,2),U=H[0],V=H[1],Q=function(e){return"bass"===e?"#dd0044":"bd"===e?"#0074c6":"perc"===e?"#dd4d00":"patt"===e?"#008300":"black"},X=function(e){return"bass"===e?"box-shadow: 9px 9px 18px #e03e6e, -9px -9px 18px #f8447a;":"bd"===e?"box-shadow:  9px 9px 18px #4598d4, -9px -9px 18px #4da8ea;":"perc"===e?"box-shadow:  9px 9px 18px #db753f, -9px -9px 18px #f28145;":"patt"===e?"box-shadow:  9px 9px 18px #33b233, -9px -9px 18px #39c439;":"black"},Y=function(e){return"bass"===e?"box-shadow: 1px 1px 2px #d10040, -1px -1px 2px #ff0056;":"bd"===e?"box-shadow: 1px 1px 2px #006ebb, -1px -1px 2px #0094fd;":"perc"===e?"box-shadow: 1px 1px 2px #d14900, -1px -1px 2px #ff6300;":"patt"===e?"box-shadow: 1px 1px 2px #007c00, -1px -1px 2px #00a800;":"black"},Z=function(e,t){var n,r,c,a;d.current[t]={group:e,sample:Oe(Object.values(he[e])[0]).connect(i.current["track"+t]),name:Object.keys(he[e])[0]},n=(a=Ae(d,O,A,g,t)).newGrid,r=a.newTrackActive,c=a.newTracksMute,L.current=[],n.map((function(e){var t=[];return e.map((function(e){return e.isActive&&t.push(e.sample)})),L.current.push(t)})),h(n),T(r),w(c)},$=function(e){var t,n,r;delete i.current["track"+e],i.current=function(e){var t=Object.keys(e).map((function(t,n){var r="track"+n||!1;return Object(b.a)({},r,e[t])}));return Object.assign.apply(Object,[{}].concat(Object(p.a)(t)))}(i.current),d.current.splice(e,1),t=O.map((function(t){var n=Object(p.a)(t);return n.splice(e,1),n})),(n=Object(p.a)(A)).splice(e,1),(r=Object(p.a)(g)).splice(e,1),L.current=[],t.map((function(e){var t=[];return e.map((function(e){return e.isActive&&t.push(e.sample)})),L.current.push(t)})),h(t),T(n),w(r)},_=function(e){e?U<999&&V((function(e){return e+1})):U>0&&V((function(e){return e-1})),j.d.bpm.value=U},ee=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!B){e.next=12;break}return D(!1),G(null),e.next=5,j.d.stop();case 5:return e.next=7,K.current.stop();case 7:return e.next=9,K.current.clear();case 9:return e.next=11,K.current.dispose();case 11:return e.abrupt("return");case 12:return K.current=new j.c((function(e,t){G(t),L.current[t].forEach((function(t){return t.start(e,0)}))}),E,"16n"),D(!0),e.next=16,j.f();case 16:return e.next=18,j.d.start();case 18:return e.next=20,K.current.start();case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(F.jsx)("div",{className:"App",children:Object(F.jsxs)("div",{id:"sequencer",children:[Object(F.jsxs)("div",{id:"upper-control-bar",children:[Object(F.jsx)("input",{type:"text",name:"title",id:"title",value:n,style:{fontWeight:"700"},onChange:function(e){c(e.target.value)}}),Object(F.jsx)("button",{className:"d-flex justify-content-center align-items-center btn btn-secondary",id:"play-button",onClick:function(){return ee()},children:B?ae:ie}),Object(F.jsxs)("div",{id:"bpm-container",children:[Object(F.jsxs)("p",{className:"m-0",id:"bpm-title",children:["BPM ",U]}),Object(F.jsxs)("div",{id:"inc-dec-bpm-container",children:[Object(F.jsx)(Ce,{minusOrPlus:!1,onClick:_,className:"btn btn-dark btn-sm",id:"decrease-bpm",children:pe}),Object(F.jsx)(Ce,{minusOrPlus:!0,onClick:_,className:"btn btn-dark btn-sm",id:"increase-bpm",children:oe})]})]})]}),Object(F.jsxs)("div",{id:"sample-container",children:[Object(F.jsx)(be,{isTrackOrMute:!0,children:A.map((function(e,t){var n=e.sample,r=e.isActive,c=e.group;return Object(F.jsx)(ve,{sample:n,group:c,isActive:r,inputColor:Q,trackSelectColor:X,borderColor:Y,onClick:function(){return function(e,t){var n=A.map((function(e,t){var n=Object(l.a)({},e);return n.isActive&&(n.isActive=!1),n})).map((function(t,n){var r=Object(l.a)({},t);return n===e&&(r.isActive=!t.isActive),r}));T(n)}(t)},trackKey:t+1,handleRemoveTrack:$,trackIndex:t},c+"-track"+t)}))}),Object(F.jsx)(be,{className:"me-3",children:g.map((function(e,t){var n=e.sample,r=e.isActive,c=e.group;return Object(F.jsx)(we,{sample:n,group:c,isActive:r,inputColor:Q,borderColor:Y,onClick:function(){return function(e,t){var n=g.map((function(t,n){var r=Object(l.a)({},t);return n===e&&(r.isActive=!t.isActive),r}));i.current["track"+e].mute=!i.current["track"+e].mute,w(n)}(t)}},c+"-mute"+t)}))}),O.map((function(e,t){return Object(F.jsx)("div",{className:f()("sample-column",{"sample-column--active":R===t}),children:e.map((function(e,n){var r=e.sample,c=e.isActive,a=e.group;return Object(F.jsx)(ye,{sample:r,group:a,isActive:c,onClick:function(){return function(e,t,n){var r=O.map((function(n,r){return n.map((function(n,c){var a=Object(l.a)({},n);return r===e&&c===t&&(a.isActive=!n.isActive),a}))}));L.current=[],r.map((function(e){var t=[];return e.map((function(e){return e.isActive&&t.push(e.sample)})),L.current.push(t)})),h(r)}(t,n)}},a+"-sample"+n)}))},"sample-column"+t)}))]}),Object(F.jsx)("div",{className:"d-grid gap-2",children:Object(F.jsx)("button",{className:"d-flex justify-content-center align-items-center btn btn-secondary",id:"add-track-button",onClick:function(){return function(){var e,t,n;i.current["track"+Object.keys(i.current).length]=(new j.a).toDestination().connect(a.current),d.current.push({group:"bass",sample:Oe(he.bass.BS1).connect(i.current["track"+(Object.keys(i.current).length-1)]),name:Object.keys(he.bass)[0]}),e=O.map((function(e){var t=Object(p.a)(e);return t.push({group:"bass",sample:Oe(he.bass.BS1).connect(i.current["track"+(Object.keys(i.current).length-1)]),name:Object.keys(he.bass)[0]}),t})),(t=Object(p.a)(A)).push({isActive:!1,group:"bass",name:Object.keys(he.bass)[0]}),(n=Object(p.a)(g)).push({isActive:!0,group:"bass",name:Object.keys(he.bass)[0]}),h(e),T(t),w(n)}()},children:oe})}),Object(F.jsx)(me,{children:A.map((function(e,t){var n=e.isActive,r=e.group,c=e.name;return Object(F.jsx)(ke,{name:c,isActive:n,group:r,inputColor:Q,trackKey:t+1,wave:a,sampleLeft:function(){return function(e,t,n){var r,c,a,s,u=Object.keys(he[t]),o=Object.values(he[t]);u.indexOf(e)>-1&&u.indexOf(e)-1>-1?(d.current[n]={group:t,sample:Oe(o[u.indexOf(e)-1]).connect(i.current["track"+n]),name:u[u.indexOf(e)-1]},r=(s=Ae(d,O,A,g,n)).newGrid,c=s.newTrackActive,a=s.newTracksMute):(d.current[n]={group:t,sample:Oe(o[u.length-1]).connect(i.current["track"+n]),name:u[u.length-1]},r=(s=Ae(d,O,A,g,n)).newGrid,c=s.newTrackActive,a=s.newTracksMute),L.current=[],r.map((function(e){var t=[];return e.map((function(e){return e.isActive&&t.push(e.sample)})),L.current.push(t)})),h(r),T(c),w(a)}(c,r,t)},sampleRight:function(){return function(e,t,n){var r,c,a,s,u=Object.keys(he[t]),o=Object.values(he[t]);u.indexOf(e)>-1&&u.indexOf(e)+1<u.length?(d.current[n]={group:t,sample:Oe(o[u.indexOf(e)+1]).connect(i.current["track"+n]),name:u[u.indexOf(e)+1]},r=(s=Ae(d,O,A,g,n)).newGrid,c=s.newTrackActive,a=s.newTracksMute):(d.current[n]={group:t,sample:Oe(o[0]).connect(i.current["track"+n]),name:u[0]},r=(s=Ae(d,O,A,g,n)).newGrid,c=s.newTrackActive,a=s.newTracksMute),L.current=[],r.map((function(e){var t=[];return e.map((function(e){return e.isActive&&t.push(e.sample)})),L.current.push(t)})),h(r),T(c),w(a)}(c,r,t)},handleGroupSelect:Z,trackIndex:t},r+t)}))})]})})}var Se=document.getElementById("root");a.a.render(Object(F.jsx)(r.StrictMode,{children:Object(F.jsx)(Te,{})}),Se)}},[[67,1,2]]]);
//# sourceMappingURL=main.c1e582bf.chunk.js.map